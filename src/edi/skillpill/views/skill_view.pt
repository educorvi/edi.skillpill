<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="edi.skillpill">
<body>

<metal:main fill-slot="main">
    <tal:main-macro metal:define-macro="main">

      <div tal:define="quiz view/get_quiz" class="container">

        <div class="row mt-n3">

        <!--<div tal:replace="structure provider:plone.abovecontenttitle" />-->

        <div class="col-sm-1"> </div>

        <div class="col-12 col-sm-10">

	<div class="card mb-3">
	  <img tal:condition="context/titleimage" class="card-img-top" tal:attributes="src python:context.absolute_url()+'/@@images/titleimage'"
               alt="Card image cap">
	  <div class="card-body">
	    <h5 class="card-title" tal:content="context/title">Card title</h5>
	    <p class="card-text" tal:content="context/description"></p>
            <button class="btn btn-info" type="button" data-toggle="collapse" data-target="#collapseLearnMore" aria-expanded="false" 
                    aria-controls="collapseLearnMore">Lerne mehr
            </button>
            <button tal:condition="not:view/get_validated" type="button" class="btn btn-primary" data-toggle="modal" data-target="#quizModal">
                    Quiz starten
            </button>
	    <div class="collapse mt-3" id="collapseLearnMore">
              <span tal:replace="structure context/text/output"/>
            </div>
	  </div>
	</div>

        <a class="anchor" tal:condition="view/get_validated" id="ergebnis"> </a>

	<div class="modal fade" id="quizModal" tabindex="-1" role="dialog" aria-labelledby="quizModalLabel" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
		<h5 class="modal-title" id="quizModalLabel">Quiz beantworten</h5>
		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		  <span aria-hidden="true">&times;</span>
		</button>
	      </div>

		<div class="modal-body">
		  <div class="container-fluid">
		    <div class="row">
                      <div class="col-12">

			<!--<div tal:condition="not:quiz/image" class="jumbotron jumbotron-fluid">
			  <div class="container">
			    <h3 tal:content="quiz/frage">Fluid jumbotron</h3>
			  </div>
			</div>-->

			<div class="card mb-3">
			  <img tal:condition="quiz/image" class="card-img-top" tal:attributes="src quiz/image;alt context/title">
			  <div class="card-body">
			    <h3 class="card-title" tal:content="quiz/frage">Card title</h3>
			  </div>
			</div>

                      </div>

		    </div>
		    <div class="row">
		      <div class="col-sm-12">
                        <form tal:attributes="action view/get_action">
			  <div class="row">
                            <div tal:repeat="antwort quiz/antworten" class="col-6 mb-1">
                              <button style="min-height:60px;" type="submit" class="btn btn-secondary btn-sm btn-block" 
                                      tal:attributes="name quiz/uid;value python:antwort[0]" tal:content="python:antwort[1]"></button>
                            </div>
			  </div>
                        </form>
		      </div>
		    </div>
		  </div>
		</div>
	    </div>
	  </div>
	</div>

        <div tal:define="validated view/get_validated" tal:condition="validated" class="row">
          <div class="col-sm-5 col-12">

		<div class="card">
                  <img tal:condition="quiz/image" class="card-img-top" tal:attributes="src quiz/image;alt context/title">
		  <div class="card-body">
		    <h5 class="card-title" tal:content="quiz/frage">Card title</h5>
                    <div class="row">
                      <div tal:repeat="antwort validated" class="col-6 mb-1">
                        <button style="min-height:60px;" type="button" tal:attributes="class antwort/btnclass" disabled>
                          <span tal:replace="antwort/antwort"/> <span tal:condition="antwort/yours" class="ml-2 badge badge-light">Du</span>
                        </button>
                      </div>
                    </div>
		  </div>
		</div>
          </div>
        </div>

        <div tal:replace="structure provider:plone.belowcontentbody" />

        </div> <!-- Column -->

        <div class="col-sm-1"> </div>

        </div> <!-- Row -->


      </div>
    </tal:main-macro>
</metal:main>

</body>
</html>
